<h1>{{groupCtrl.group.name}}</h1>
<p class="text-muted">{{groupCtrl.group.description}}</p>

<div class="mh-content">
  <h2>Members</h2>
  <md-list>
    <md-list-item ng-repeat="person in groupCtrl.persons">
     <mh-avatar person="person" size="xs" circle ui-sref="person.view({id: person.id})"></mh-avatar>
      <div flex class="md-list-item-text">
        <b>
          <ng-md-icon icon="star" ng-if="groupCtrl.isLeader(person)"></ng-md-icon>
          {{person.firstName}} {{person.lastName}}
        </b>
      </div>
       <md-menu>
          <md-button aria-label="Open menu" class="md-icon-button md-action-icon-button" ng-click="$mdOpenMenu($event)">
            <ng-md-icon icon="more_vert"></ng-md-icon>
          </md-button>
          <md-menu-content width="4">
            <md-menu-item>
              <md-button ng-click="groupCtrl.deletePerson(person)" aria-label="Delete from this group">
                <ng-md-icon icon="delete"></ng-md-icon>
                <translate>Delete</translate>
              </md-button>
            </md-menu-item>
            <md-menu-item ng-hide="groupCtrl.isLeader(person)">
              <md-button ng-click="groupCtrl.makeLeader(person)" aria-label="Make leader">
                <ng-md-icon icon="star"></ng-md-icon>
                <translate>Add as Leader</translate>
              </md-button>
            </md-menu-item>
            <md-menu-item ng-show="groupCtrl.isLeader(person)">
              <md-button ng-click="groupCtrl.unMakeLeader(person)" aria-label="Unmake leader">
                <ng-md-icon icon="star_outline"></ng-md-icon>
                <translate>Remove as Leader</translate>
              </md-button>
            </md-menu-item>
          </md-menu-content>
        </md-menu>
      <md-divider ng-if="!$last"></md-divider>
    </md-list-item>
  </md-list>
</div>

<a ui-sref="group.edit({id: groupCtrl.group.id})">
  <md-button class="md-fab md-fab-floating-br md-accent" aria-label="Edit Group">
    <ng-md-icon icon="edit"></ng-md-icon>
  </md-button>
</a>
